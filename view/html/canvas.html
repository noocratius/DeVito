<link rel="stylesheet" type="text/css" href="../stylesheets/css/app.css">
<article class="business-model-canvas">
  <div class="upper-column">
    <div class="canvas-column canvas-element">
      <h1>Parcerias Chaves </h1>
      <div class="canvas-body-element">
      </div>
      <div class="canvas-element-add-button">
        <button type="button">Adicionar post-it</button>
      </div>
    </div>
    <div class="canvas-column">
      <div class="canvas-element">
        <h1>Atividades Chave</h1>
        <div class="canvas-body-element">
          <div class="post-it">
            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
          </div>
          <div class="post-it">
            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
          </div>
        </div>
        <div class="canvas-element-add-button">
          <button type="button">Adicionar post-it</button>
        </div>
      </div>
      <div class="canvas-element">
        <h1>Recursos Chave</h1>
        <div class="canvas-body-element">
          <div class="post-it">
            post-it #00
          </div>
          <div class="post-it">
            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
          </div>
        </div>
        <div class="canvas-element-add-button">
          <button type="button">Adicionar post-it</button>
        </div>
      </div>
    </div>
    <div class="canvas-column canvas-element">
      <h1>Proposta de Valor</h1>
      <div class="canvas-body-element">
      </div>
      <div class="canvas-element-add-button">
        <button type="button">Adicionar post-it</button>
      </div>
    </div>
    <div class="canvas-column">
      <div class="canvas-element">
        <h1>Relação com o Cliente <i class="fa fa-heart-o" aria-hidden="true"></i></h1>
        <div class="canvas-body-element">
          <i class="fa fa-camera-retro"></i>
        </div>
        <div class="canvas-element-add-button">
          <button type="button">Adicionar post-it</button>
        </div>
      </div>
      <div class="canvas-element">
        <h1>Canais</h1>
        <div class="canvas-body-element">
        </div>
        <div class="canvas-element-add-button">
          <button type="button">Adicionar post-it</button>
        </div>
      </div>
    </div>
    <div class="canvas-column canvas-element">
      <h1>Segmentos de Mercado</h1>
      <div class="canvas-body-element">
      </div>
      <div class="canvas-element-add-button">
        <button type="button">Adicionar post-it</button>
      </div>
    </div>
  </div>
  <div class="bottom-column">
    <div class="canvas-column canvas-element">
      <h1>Estrutura de Custos</h1>
      <div class="canvas-body-element">
      </div>
      <div class="canvas-element-add-button">
        <button type="button">Adicionar post-it</button>
      </div>
    </div>
    <div class="canvas-column canvas-element">
      <h1>Fontes de Renda</h1>
      <div class="canvas-body-element">
        <div class="post-it">
          Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
        </div>
        <div class="post-it">
          Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
        </div>
        <div class="post-it">
          Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
        </div>
      </div>
      <div class="canvas-element-add-button">
        <button type="button">Adicionar post-it</button>
      </div>
    </div>
  </div>
</article>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript">

  /**
   * Retorna a propriedade css sem unidade
   *
   * @param {string} property - Propriedade em unidades usadas pelo stylesheet
   */
  var unitlessAttr = function(property) {
    return property.match(/\d+/)[0];
  }

  $.when( $.ready ).then(function () {

    // objeto que lida com business model canvas
    var $canvas, $upper, $bottom, lineHeight, upperHeight, bottomHeight;

    $canvas = $('.business-model-canvas');

    lineHeight = unitlessAttr($canvas.css('lineHeight'));
    $upper = $('.upper-column');
    $bottom = $('.bottom-column');

    upperHeight = unitlessAttr($upper.css('height'));
    bottomHeight = unitlessAttr($bottom.css('height'));

    $('.canvas-element > .canvas-body-element', $upper).css('height', upperHeight/2 - 4*lineHeight);
    $('.canvas-column > .canvas-body-element', $upper).css('height', upperHeight - 4*lineHeight);
    $('.canvas-body-element', $bottom).css('height', bottomHeight - 4*lineHeight);

    $(window).resize(function () {

      upperHeight = unitlessAttr($upper.css('height'));
      bottomHeight = unitlessAttr($bottom.css('height'));

      $('.canvas-element .canvas-body-element', $upper).css('height', upperHeight/2 - 4*lineHeight);
      $('.canvas-column.canvas-element .canvas-body-element', $upper).css('height', upperHeight - 4*lineHeight);
      $('.bottom-column .canvas-body-element').css('height', bottomHeight - 4*lineHeight);

    });
  });


  // recalcula o tamanho da linha quando der resize
</script>
